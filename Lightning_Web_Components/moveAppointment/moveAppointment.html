<template>
    <template if:true={hasRecordId}>
      <template if:true={IsScheduled}>
        <lightning-card title="Change Appointment Date and Time" icon-name="utility:edit">
        <div class="slds-m-top_medium">
            <lightning-button label="Change Date" onclick={showModal}></lightning-button>
        </div>
        </lightning-card>
        <!-- Modal Window -->
        <template if:true={isModalOpen}>
            <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
                <div class="slds-modal__container">
                <!-- Header -->
                    <header class="slds-modal__header">
                        <h2 class="slds-text-heading_medium">Please enter the date and time</h2>
                    </header>

                <!-- Body -->
                <div class="slds-modal__content slds-p-around_medium">
                    <lightning-record-edit-form
                        class="modal-form"
                        object-api-name="Appointment__c"
                        record-id={recordId}
                        mode="edit"
                        fields={fields}
                        onsuccess={handleSuccess}>
                        <lightning-messages></lightning-messages>
                        <lightning-input-field field-name="Appointment_Day__c"></lightning-input-field>
                        <!--<lightning-input-field field-name="Quote__c" value={recordId} variant="label-hidden"></lightning-input-field> -->
                      
                
                        <footer class="slds-modal__footer">
                            <lightning-button variant="neutral" label="Cancel" onclick={handleCancel}></lightning-button>
                            <lightning-button variant="brand" label="Save" onclick={handleSave}></lightning-button>
                        </footer>
                   </lightning-record-edit-form>
             </div>
            </div>
        </section>
        <!-- Backdrop -->
            <div class="slds-backdrop slds-backdrop_open"></div>
      </template>
    </template>
    <template if:false ={IsScheduled}>
        <lightning-card title="Editing the date of this appointment is not possible." icon-name="utility:edit"></lightning-card>
    </template>
  </template>
</template>